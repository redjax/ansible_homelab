### Generated by Ansible on {{ ansible_date_time.iso8601 }}

Hostname={{ zabbix_agent_hostname }}
Server={{ zabbix_agent_server_addr }}
ServerActive={{ zabbix_agent_server_addr }}:{{ zabbix_agent_server_port }}
ListenIP={% if zabbix_agent_listen_ip == 'auto' %}
{{ ansible_default_ipv4.address }}
{% else %}
{{ zabbix_agent_listen_ip }}
{% endif %}
ListenPort={{ zabbix_agent_listen_port }}
HostMetadata={{ zabbix_metadata }}

LogFile={{ zabbix_agent_logfile | default('autoregister') }}
PidFile=/run/zabbix/zabbix_agent2.pid
Timeout=30
DebugLevel={{ zabbix_agent_debug_level }}
LogFileSize={{ zabbix_agent_logfile_size }}

Include=/etc/zabbix/zabbix_agent2.d/*.conf

{% if zabbix_agent_enable_tls %}
TLSConnect=psk
TLSAccept=psk
TLSPSKIdentity={{ zabbix_agent_tls_psk_identity }}
TLSPSKFile={{ zabbix_agent_tls_psk_file }}
{% endif %}
